<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xml:lang="en"
      lang="en"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
>
<h:head>
    <title>Flyway DB App</title>
</h:head>
<h:body>
    <h:form id="addPerson">
        <p:growl id="growl" showDetail="true"/>
        <div class="card">
            <h2> Add a Person</h2>
            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-md-4">
                    <div class="ui-inputgroup">
                        <span class="ui-inputgroup-addon">
                            <em class="pi pi-person"/>
                        </span>
                        <p:inputText placeholder="First Name" value="#{personView.firstName}">
                            <f:validateLength minimum="1"/>
                        </p:inputText>
                    </div>
                </div>

                <div class="ui-g-12 ui-md-4">
                    <div class="ui-inputgroup">
                        <span class="ui-inputgroup-addon">
                            <em class="pi pi-person"/>
                        </span>
                        <p:inputText placeholder="Last Name" value="#{personView.lastName}">
                            <f:validateLength minimum="1"/>
                        </p:inputText>
                    </div>
                </div>

                <div class="ui-g-12 ui-md-4">
                    <div class="ui-inputgroup">
                        <p:commandButton type="submit" value="Save" styleClass="ui-button-raised"
                                         action="#{personView.createPerson}"
                                         update="@form persons:allPersons addPerson"/>
                    </div>
                </div>
            </div>
        </div>
    </h:form>
    <h:form id="persons">
        <h2 class="p-mt-0">Available Persons</h2>
        <p:dataTable id="allPersons" var="person" value="#{personView.people}">
            <p:column headerText="Id">
                <h:outputText value="#{person.id}"/>
            </p:column>
            <p:column headerText="First Name">
                <h:outputText value="#{person.firstName}"/>
            </p:column>
            <p:column headerText="Last Name">
                <h:outputText value="#{person.lastName}"/>
            </p:column>
        </p:dataTable>
    </h:form>
</h:body>
</html>
